[
    Declare(
        Declare {
            span: Span(
                11,
                1,
            ),
            entries: DeclareEntryGroup {
                start: Span(
                    11,
                    8,
                ),
                end: Span(
                    11,
                    23,
                ),
                entries: [
                    DeclareEntry {
                        key: SimpleIdentifier {
                            span: Span(
                                11,
                                9,
                            ),
                            value: "strict_types",
                        },
                        span: Span(
                            11,
                            21,
                        ),
                        value: LiteralInteger {
                            span: Span(
                                11,
                                22,
                            ),
                            value: "1",
                        },
                    },
                ],
            },
            body: Noop {
                span: Span(
                    11,
                    24,
                ),
            },
        },
    ),
    Namespace(
        Unbraced(
            UnbracedNamespace {
                start: Span(
                    13,
                    1,
                ),
                name: SimpleIdentifier {
                    span: Span(
                        13,
                        11,
                    ),
                    value: "Psl\Internal",
                },
                end: Span(
                    13,
                    23,
                ),
                statements: [
                    Use {
                        uses: [
                            Use {
                                name: SimpleIdentifier {
                                    span: Span(
                                        15,
                                        5,
                                    ),
                                    value: "Closure",
                                },
                                alias: None,
                                kind: None,
                            },
                        ],
                        kind: Normal,
                    },
                    Use {
                        uses: [
                            Use {
                                name: SimpleIdentifier {
                                    span: Span(
                                        16,
                                        5,
                                    ),
                                    value: "Psl\Str",
                                },
                                alias: None,
                                kind: None,
                            },
                        ],
                        kind: Normal,
                    },
                    Use {
                        uses: [
                            Use {
                                name: SimpleIdentifier {
                                    span: Span(
                                        18,
                                        14,
                                    ),
                                    value: "restore_error_handler",
                                },
                                alias: None,
                                kind: None,
                            },
                        ],
                        kind: Function,
                    },
                    Use {
                        uses: [
                            Use {
                                name: SimpleIdentifier {
                                    span: Span(
                                        19,
                                        14,
                                    ),
                                    value: "set_error_handler",
                                },
                                alias: None,
                                kind: None,
                            },
                        ],
                        kind: Function,
                    },
                    Function(
                        Function {
                            start: Span(
                                32,
                                1,
                            ),
                            end: Span(
                                61,
                                1,
                            ),
                            name: SimpleIdentifier {
                                span: Span(
                                    32,
                                    10,
                                ),
                                value: "box",
                            },
                            attributes: [],
                            parameters: FunctionParameterList {
                                start: Span(
                                    32,
                                    13,
                                ),
                                end: Span(
                                    32,
                                    27,
                                ),
                                members: [
                                    FunctionParameter {
                                        start: Span(
                                            32,
                                            14,
                                        ),
                                        end: Span(
                                            32,
                                            26,
                                        ),
                                        name: SimpleVariable {
                                            span: Span(
                                                32,
                                                22,
                                            ),
                                            name: "fun",
                                        },
                                        attributes: [],
                                        type: Some(
                                            Named(
                                                Span(
                                                    32,
                                                    14,
                                                ),
                                                "Closure",
                                            ),
                                        ),
                                        variadic: false,
                                        default: None,
                                        by_ref: false,
                                    },
                                ],
                            },
                            return_type: Some(
                                Array(
                                    Span(
                                        32,
                                        29,
                                    ),
                                ),
                            ),
                            by_ref: false,
                            body: [
                                Expression {
                                    expression: AssignmentOperation(
                                        Assign {
                                            left: Variable(
                                                SimpleVariable(
                                                    SimpleVariable {
                                                        span: Span(
                                                            34,
                                                            5,
                                                        ),
                                                        name: "last_message",
                                                    },
                                                ),
                                            ),
                                            span: Span(
                                                34,
                                                19,
                                            ),
                                            right: Null,
                                        },
                                    ),
                                    end: Span(
                                        34,
                                        25,
                                    ),
                                },
                                Expression {
                                    expression: FunctionCall {
                                        target: Identifier(
                                            SimpleIdentifier(
                                                SimpleIdentifier {
                                                    span: Span(
                                                        36,
                                                        5,
                                                    ),
                                                    value: "set_error_handler",
                                                },
                                            ),
                                        ),
                                        arguments: ArgumentList {
                                            start: Span(
                                                36,
                                                22,
                                            ),
                                            arguments: [
                                                Positional {
                                                    ellipsis: None,
                                                    value: Closure(
                                                        Closure {
                                                            start: Span(
                                                                36,
                                                                23,
                                                            ),
                                                            end: Span(
                                                                38,
                                                                5,
                                                            ),
                                                            attributes: [],
                                                            parameters: FunctionParameterList {
                                                                start: Span(
                                                                    36,
                                                                    39,
                                                                ),
                                                                end: Span(
                                                                    36,
                                                                    69,
                                                                ),
                                                                members: [
                                                                    FunctionParameter {
                                                                        start: Span(
                                                                            36,
                                                                            40,
                                                                        ),
                                                                        end: Span(
                                                                            36,
                                                                            50,
                                                                        ),
                                                                        name: SimpleVariable {
                                                                            span: Span(
                                                                                36,
                                                                                44,
                                                                            ),
                                                                            name: "_type",
                                                                        },
                                                                        attributes: [],
                                                                        type: Some(
                                                                            Integer(
                                                                                Span(
                                                                                    36,
                                                                                    40,
                                                                                ),
                                                                            ),
                                                                        ),
                                                                        variadic: false,
                                                                        default: None,
                                                                        by_ref: false,
                                                                    },
                                                                    FunctionParameter {
                                                                        start: Span(
                                                                            36,
                                                                            52,
                                                                        ),
                                                                        end: Span(
                                                                            36,
                                                                            67,
                                                                        ),
                                                                        name: SimpleVariable {
                                                                            span: Span(
                                                                                36,
                                                                                59,
                                                                            ),
                                                                            name: "message",
                                                                        },
                                                                        attributes: [],
                                                                        type: Some(
                                                                            String(
                                                                                Span(
                                                                                    36,
                                                                                    52,
                                                                                ),
                                                                            ),
                                                                        ),
                                                                        variadic: false,
                                                                        default: None,
                                                                        by_ref: false,
                                                                    },
                                                                ],
                                                            },
                                                            return_ty: None,
                                                            uses: [
                                                                ClosureUse {
                                                                    var: Variable(
                                                                        SimpleVariable(
                                                                            SimpleVariable {
                                                                                span: Span(
                                                                                    36,
                                                                                    75,
                                                                                ),
                                                                                name: "last_message",
                                                                            },
                                                                        ),
                                                                    ),
                                                                    by_ref: true,
                                                                },
                                                            ],
                                                            by_ref: false,
                                                            body: [
                                                                Expression {
                                                                    expression: AssignmentOperation(
                                                                        Assign {
                                                                            left: Variable(
                                                                                SimpleVariable(
                                                                                    SimpleVariable {
                                                                                        span: Span(
                                                                                            37,
                                                                                            9,
                                                                                        ),
                                                                                        name: "last_message",
                                                                                    },
                                                                                ),
                                                                            ),
                                                                            span: Span(
                                                                                37,
                                                                                23,
                                                                            ),
                                                                            right: Variable(
                                                                                SimpleVariable(
                                                                                    SimpleVariable {
                                                                                        span: Span(
                                                                                            37,
                                                                                            25,
                                                                                        ),
                                                                                        name: "message",
                                                                                    },
                                                                                ),
                                                                            ),
                                                                        },
                                                                    ),
                                                                    end: Span(
                                                                        37,
                                                                        33,
                                                                    ),
                                                                },
                                                            ],
                                                            static: true,
                                                        },
                                                    ),
                                                },
                                            ],
                                            end: Span(
                                                38,
                                                6,
                                            ),
                                        },
                                    },
                                    end: Span(
                                        38,
                                        7,
                                    ),
                                },
                                If {
                                    condition: LogicalOperation(
                                        And {
                                            left: ComparisonOperation(
                                                NotIdentical {
                                                    left: Null,
                                                    span: Span(
                                                        43,
                                                        14,
                                                    ),
                                                    right: Variable(
                                                        SimpleVariable(
                                                            SimpleVariable {
                                                                span: Span(
                                                                    43,
                                                                    18,
                                                                ),
                                                                name: "last_message",
                                                            },
                                                        ),
                                                    ),
                                                },
                                            ),
                                            span: Span(
                                                43,
                                                32,
                                            ),
                                            right: FunctionCall {
                                                target: Identifier(
                                                    SimpleIdentifier(
                                                        SimpleIdentifier {
                                                            span: Span(
                                                                43,
                                                                35,
                                                            ),
                                                            value: "Str\contains",
                                                        },
                                                    ),
                                                ),
                                                arguments: ArgumentList {
                                                    start: Span(
                                                        43,
                                                        47,
                                                    ),
                                                    arguments: [
                                                        Positional {
                                                            ellipsis: None,
                                                            value: Variable(
                                                                SimpleVariable(
                                                                    SimpleVariable {
                                                                        span: Span(
                                                                            43,
                                                                            48,
                                                                        ),
                                                                        name: "last_message",
                                                                    },
                                                                ),
                                                            ),
                                                        },
                                                        Positional {
                                                            ellipsis: None,
                                                            value: LiteralString {
                                                                span: Span(
                                                                    43,
                                                                    63,
                                                                ),
                                                                value: "): ",
                                                            },
                                                        },
                                                    ],
                                                    end: Span(
                                                        43,
                                                        68,
                                                    ),
                                                },
                                            },
                                        },
                                    ),
                                    then: [
                                        Expression {
                                            expression: AssignmentOperation(
                                                Assign {
                                                    left: Variable(
                                                        SimpleVariable(
                                                            SimpleVariable {
                                                                span: Span(
                                                                    44,
                                                                    9,
                                                                ),
                                                                name: "last_message",
                                                            },
                                                        ),
                                                    ),
                                                    span: Span(
                                                        44,
                                                        23,
                                                    ),
                                                    right: FunctionCall {
                                                        target: Identifier(
                                                            SimpleIdentifier(
                                                                SimpleIdentifier {
                                                                    span: Span(
                                                                        44,
                                                                        25,
                                                                    ),
                                                                    value: "Str\after",
                                                                },
                                                            ),
                                                        ),
                                                        arguments: ArgumentList {
                                                            start: Span(
                                                                44,
                                                                34,
                                                            ),
                                                            arguments: [
                                                                Positional {
                                                                    ellipsis: None,
                                                                    value: FunctionCall {
                                                                        target: Identifier(
                                                                            SimpleIdentifier(
                                                                                SimpleIdentifier {
                                                                                    span: Span(
                                                                                        45,
                                                                                        13,
                                                                                    ),
                                                                                    value: "Str\lowercase",
                                                                                },
                                                                            ),
                                                                        ),
                                                                        arguments: ArgumentList {
                                                                            start: Span(
                                                                                45,
                                                                                26,
                                                                            ),
                                                                            arguments: [
                                                                                Positional {
                                                                                    ellipsis: None,
                                                                                    value: Variable(
                                                                                        SimpleVariable(
                                                                                            SimpleVariable {
                                                                                                span: Span(
                                                                                                    45,
                                                                                                    27,
                                                                                                ),
                                                                                                name: "last_message",
                                                                                            },
                                                                                        ),
                                                                                    ),
                                                                                },
                                                                            ],
                                                                            end: Span(
                                                                                45,
                                                                                40,
                                                                            ),
                                                                        },
                                                                    },
                                                                },
                                                                Positional {
                                                                    ellipsis: None,
                                                                    value: LiteralString {
                                                                        span: Span(
                                                                            47,
                                                                            13,
                                                                        ),
                                                                        value: "): ",
                                                                    },
                                                                },
                                                            ],
                                                            end: Span(
                                                                48,
                                                                9,
                                                            ),
                                                        },
                                                    },
                                                },
                                            ),
                                            end: Span(
                                                48,
                                                10,
                                            ),
                                        },
                                    ],
                                    else_ifs: [],
                                    else: None,
                                },
                                Try(
                                    TryBlock {
                                        start: Span(
                                            51,
                                            5,
                                        ),
                                        end: Span(
                                            61,
                                            1,
                                        ),
                                        body: [
                                            Expression {
                                                expression: AssignmentOperation(
                                                    Assign {
                                                        left: Variable(
                                                            SimpleVariable(
                                                                SimpleVariable {
                                                                    span: Span(
                                                                        52,
                                                                        9,
                                                                    ),
                                                                    name: "value",
                                                                },
                                                            ),
                                                        ),
                                                        span: Span(
                                                            52,
                                                            16,
                                                        ),
                                                        right: FunctionCall {
                                                            target: Variable(
                                                                SimpleVariable(
                                                                    SimpleVariable {
                                                                        span: Span(
                                                                            52,
                                                                            18,
                                                                        ),
                                                                        name: "fun",
                                                                    },
                                                                ),
                                                            ),
                                                            arguments: ArgumentList {
                                                                start: Span(
                                                                    52,
                                                                    22,
                                                                ),
                                                                arguments: [],
                                                                end: Span(
                                                                    52,
                                                                    23,
                                                                ),
                                                            },
                                                        },
                                                    },
                                                ),
                                                end: Span(
                                                    52,
                                                    24,
                                                ),
                                            },
                                            Expression {
                                                expression: AssignmentOperation(
                                                    Assign {
                                                        left: Variable(
                                                            SimpleVariable(
                                                                SimpleVariable {
                                                                    span: Span(
                                                                        55,
                                                                        9,
                                                                    ),
                                                                    name: "result",
                                                                },
                                                            ),
                                                        ),
                                                        span: Span(
                                                            55,
                                                            17,
                                                        ),
                                                        right: ShortArray {
                                                            start: Span(
                                                                55,
                                                                19,
                                                            ),
                                                            items: [
                                                                ArrayItem {
                                                                    key: None,
                                                                    value: Variable(
                                                                        SimpleVariable(
                                                                            SimpleVariable {
                                                                                span: Span(
                                                                                    55,
                                                                                    20,
                                                                                ),
                                                                                name: "value",
                                                                            },
                                                                        ),
                                                                    ),
                                                                    unpack: false,
                                                                    by_ref: false,
                                                                },
                                                                ArrayItem {
                                                                    key: None,
                                                                    value: Variable(
                                                                        SimpleVariable(
                                                                            SimpleVariable {
                                                                                span: Span(
                                                                                    55,
                                                                                    28,
                                                                                ),
                                                                                name: "last_message",
                                                                            },
                                                                        ),
                                                                    ),
                                                                    unpack: false,
                                                                    by_ref: false,
                                                                },
                                                            ],
                                                            end: Span(
                                                                55,
                                                                41,
                                                            ),
                                                        },
                                                    },
                                                ),
                                                end: Span(
                                                    55,
                                                    42,
                                                ),
                                            },
                                            Return {
                                                value: Some(
                                                    Variable(
                                                        SimpleVariable(
                                                            SimpleVariable {
                                                                span: Span(
                                                                    57,
                                                                    16,
                                                                ),
                                                                name: "result",
                                                            },
                                                        ),
                                                    ),
                                                ),
                                            },
                                        ],
                                        catches: [],
                                        finally: Some(
                                            FinallyBlock {
                                                start: Span(
                                                    58,
                                                    7,
                                                ),
                                                end: Span(
                                                    61,
                                                    1,
                                                ),
                                                body: [
                                                    Expression {
                                                        expression: FunctionCall {
                                                            target: Identifier(
                                                                SimpleIdentifier(
                                                                    SimpleIdentifier {
                                                                        span: Span(
                                                                            59,
                                                                            9,
                                                                        ),
                                                                        value: "restore_error_handler",
                                                                    },
                                                                ),
                                                            ),
                                                            arguments: ArgumentList {
                                                                start: Span(
                                                                    59,
                                                                    30,
                                                                ),
                                                                arguments: [],
                                                                end: Span(
                                                                    59,
                                                                    31,
                                                                ),
                                                            },
                                                        },
                                                        end: Span(
                                                            59,
                                                            32,
                                                        ),
                                                    },
                                                ],
                                            },
                                        ),
                                    },
                                ),
                            ],
                        },
                    ),
                ],
            },
        ),
    ),
]
